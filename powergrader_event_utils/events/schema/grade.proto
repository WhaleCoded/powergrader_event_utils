syntax = "proto3";
package grade;


enum GradeType {
    AI_GRADED = 0;
    FACULTY_ADJUSTED = 1;
    AI_INFERRED = 2;
}

message GradeIdentifier {
    string submission_id = 1;
    string assignment_id = 2;
    string grade_method_id = 3;
}

message GradingStarted {
    string id = 1;
    string submission_id = 2;
    string assignment_id = 3;
    string grade_method_id = 4;
    repeated string criteria_to_be_graded = 5;
}

message CriteriaGrade {
    string id = 1;
    oneof grade_id {
        string grading_started_id = 2;
        GradeIdentifier grade_identifier = 3;
    }
    string rubric_criteria_id = 4;
    GradeType type = 5;
    int32 score = 6;
    string assesment = 7;
}

message CriteriaEmbedding {
    string id = 1;
    string crit_grade_id = 2;
    string embedder_id = 3;
    repeated float embedding = 4;
}

message AssesmentSimilarity {
    string id = 1;
    repeated string simmilar_criteria_grade_ids = 4;
}

message StudentRequestedRegrade {
    string id = 1;
    string student_id = 2;
    string submission_id = 3;
    string reasoning = 4;
    repeated string criteria_grades_to_reevaluate = 5;
}

message InstructorReview {
    string id = 1;
    string submission_id = 2;
    string assignment_id = 3;
    string instructor_id = 4;
    repeated string criteria_grade_ids = 5;
}

